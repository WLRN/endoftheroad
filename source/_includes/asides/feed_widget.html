<div id="widget"></div>
<script type="text/javascript">
simpleAJAXLib = {
      init: function () {
	  this.fetchJSON('http://www.wlrn.org/rss.xml');
      },

      fetchJSON: function (url) {
	  var root = 'https://query.yahooapis.com/v1/public/yql?q=';
	  var yql = 'select * from xml where url="' + url + '"';
	  var proxy_url = root + encodeURIComponent(yql) + '&format=json&diagnostics=false&callback=simpleAJAXLib.display';
	  document.getElementsByTagName('body')[0].appendChild(this.jsTag(proxy_url));
      },

      jsTag: function (url) {
	  var script = document.createElement('script');
	  script.setAttribute('type', 'text/javascript');
	  script.setAttribute('src', url);
	  return script;
      },

      display: function (results) {
	  // do the necessary stuff
        return JSON.stringify(results.query.results);
      }
  }
var tmp = simpleAJAXLib.init();
</script>
